<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Plan 30 d√≠as</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- iPhone / iPad icon -->
<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">

<!-- PWA manifest (sigue funcionando aunque no hagas PWA a√∫n) -->
<link rel="manifest" href="manifest.json">

<!-- Forzar modo standalone al agregar a home -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="style.css" />
    <script defer src="app.js"></script>
  </head>
  <body>
    <div class="app-shell">
      <!-- TOP BAR -->
      <header class="top-bar">
        <div class="top-bar-left">
          <div id="topAvatar" class="top-avatar">G</div>
          <div class="top-hello">
            <span>Hola</span>
            <span id="topUserName">Gabo</span>
          </div>
        </div>
        <div class="top-bar-right">
          <select id="userSelect"></select>
        </div>
      </header>

      <!-- SELECTOR DE D√çA + RESUMEN -->
      <section class="card card-primary">
        <div class="section-header-row">
          <div>
            <span class="sub-label">Selecciona el d√≠a</span><br />
            <select id="daySelect"></select>
          </div>
          <div class="day-header-right">
            <span class="sub-label">Calor√≠as objetivo</span><br />
            <strong>~<span id="caloriesHintSpan">2400</span> kcal</strong>
          </div>
        </div>

        <div class="day-header">
          <div class="day-header-left">
            <div id="dayName" class="day-name">
              D√≠a 1 ‚Äì Lunes: Fuerza superior
            </div>
            <div id="nutritionFocus" class="day-focus">
              Enfoque nutricional del d√≠a.
            </div>
          </div>
        </div>

        <!-- Progreso total del d√≠a -->
        <div class="progress-wrapper-main">
          <span class="progress-label">Progreso total del d√≠a:</span>
          <div class="progress-bar">
            <div id="dayTotalFill" class="progress-fill"></div>
          </div>
          <span id="dayTotalPercent" class="progress-percent-main">0%</span>
        </div>

        <div
          style="
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <span id="dayStatusLabel" class="badge-status">üü° D√≠a en curso</span>
          <button id="btnCloseDay" class="btn btn-outline">
            üîí Cerrar d√≠a
          </button>
        </div>
      </section>

      <!-- CONTENIDO PRINCIPAL POR TABS -->
      <main>
        <!-- TAB D√çA -->
        <section id="tab-dia" class="tab-content active">
          <div class="layout-two-col">
            <!-- Nutrici√≥n -->
            <div class="col-left">
              <section class="card">
                <div class="section-header-row">
                  <h2 class="card-title">Gu√≠a de porciones diarias</h2>
                  <span class="section-subtitle">
                    Marca cuando cumplas cada objetivo.
                  </span>
                </div>
                <ul id="portionTargets"></ul>

                <div
                  style="
                    margin-top: 10px;
                    display: grid;
                    grid-template-columns: repeat(2, minmax(0, 1fr));
                    gap: 6px;
                  "
                >
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkProtein" />
                    <span class="checkmark"></span>
                    <span>Prote√≠nas</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkCarbs" />
                    <span class="checkmark"></span>
                    <span>Carbohidratos</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkFats" />
                    <span class="checkmark"></span>
                    <span>Grasas saludables</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkVeggies" />
                    <span class="checkmark"></span>
                    <span>Vegetales</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkFruits" />
                    <span class="checkmark"></span>
                    <span>Frutas</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkDairy" />
                    <span class="checkmark"></span>
                    <span>L√°cteo</span>
                  </label>
                  <label class="exercise-checkbox">
                    <input type="checkbox" id="chkWhey" />
                    <span class="checkmark"></span>
                    <span>Prote√≠na en polvo</span>
                  </label>
                </div>
              </section>

              <!-- Plan alimenticio del d√≠a -->
              <section class="card">
                <div class="section-header-row">
                  <h2 class="card-title">Plan alimenticio del d√≠a</h2>
                  <span class="section-subtitle" id="wheyTimingLabel">
                    Prote√≠na en polvo despu√©s del entrenamiento.
                  </span>
                </div>
                <div id="mealsContainer"></div>
              </section>
            </div>

            <!-- Entrenamiento + Agua/Notas -->
            <div class="col-right">
              <section class="card" id="card-entrenamiento">
                <div class="section-header-row">
                  <h2 class="card-title">Entrenamiento / Ejercicio</h2>
                  <span class="section-subtitle">Elige qu√© hiciste hoy.</span>
                </div>

                <div class="exercise-mode">
                  <div class="exercise-mode-left">
                    <label class="exercise-checkbox">
                      <input type="checkbox" id="chkGymMode" />
                      <span class="checkmark"></span>
                      <span>Gym</span>
                    </label>
                    <label class="exercise-checkbox">
                      <input type="checkbox" id="chkWalkDone" />
                      <span class="checkmark"></span>
                      <span>Caminata</span>
                    </label>
                    <label class="exercise-checkbox">
                      <input type="checkbox" id="chkPadelDone" />
                      <span class="checkmark"></span>
                      <span>P√°del</span>
                    </label>
                    <label class="exercise-checkbox">
                      <input type="checkbox" id="chkSwimDone" />
                      <span class="checkmark"></span>
                      <span>Nataci√≥n</span>
                    </label>
                  </div>
                  <div class="exercise-mode-right">
                    <span class="toggle-label">No hice ejercicio</span>
                    <label class="toggle-switch">
                      <input type="checkbox" id="chkNoExercise" />
                      <span class="toggle-slider"></span>
                    </label>
                  </div>
                </div>

                <!-- Bloque Gym -->
                <div id="trainingContent" class="training-content">
                  <h3 id="trainingTitle" class="training-title">
                    Rutina de hoy
                  </h3>
                  <ul id="trainingDetails" class="training-list"></ul>

                  <div class="progress-wrapper-main" style="margin-top: 6px">
                    <span class="progress-label">Progreso entrenamiento (Gym):</span>
                    <div class="progress-bar">
                      <div
                        id="trainingProgressFill"
                        class="progress-fill"
                      ></div>
                    </div>
                    <span
                      id="trainingProgressPercent"
                      class="progress-percent-main"
                      >0%</span
                    >
                  </div>
                </div>
              </section>

              <!-- Agua y notas -->
              <section class="card">
                <div class="section-header-row">
                  <h2 class="card-title">Agua y notas</h2>
                  <span class="section-subtitle">
                    Registra tu hidrataci√≥n y c√≥mo te sentiste hoy.
                  </span>
                </div>

                <div
                  style="
                    display: grid;
                    grid-template-columns: minmax(0, 1fr);
                    gap: 8px;
                    margin-top: 8px;
                  "
                >
                  <div>
                    <label for="waterInput" class="sub-label"
                      >Agua tomada (litros)</label
                    >
                    <input
                      type="number"
                      id="waterInput"
                      min="0"
                      step="0.1"
                      placeholder="Ej: 2.5"
                    />
                    <div id="waterInfo"></div>
                  </div>
                  <div>
                    <label for="notesInput" class="sub-label">Notas del d√≠a</label>
                    <textarea
                      id="notesInput"
                      placeholder="Sensaciones, dolor en rodillas, energ√≠a, sue√±o, etc."
                    ></textarea>
                  </div>
                </div>
              </section>
            </div>
          </div>
        </section>

        <!-- TAB PROGRESO -->
        <section id="tab-progreso" class="tab-content">
          <section class="card">
            <div class="section-header-row">
              <h2 class="card-title">Progreso del mes</h2>
              <span class="section-subtitle">
                Avance diario de cumplimiento.
              </span>
            </div>
           <div id="monthGrid" class="month-grid"></div>
           <div id="monthGrid" class="month-grid"></div>
<div id="monthDaySummary" class="month-day-summary">
  <span class="month-day-summary-placeholder">
    Haz clic en un d√≠a del mes para ver su progreso.
  </span>
</div>



            <div style="margin-top: 14px">
              <h3 class="card-title">Peso y resumen</h3>
              <ul id="weightHistory"></ul>
            </div>
          </section>
        </section>

        <!-- TAB MEN√öS -->
        <section id="tab-menus" class="tab-content">
          <section class="card">
            <h2 class="card-title">Ejemplos de men√∫s opcionales</h2>
            <p class="section-subtitle">
              Usa estas ideas cuando quieras variar, sin cambiar tu plan base.
            </p>
            <div id="menusExamples"></div>
          </section>
        </section>

        <!-- TAB PERFIL -->
        <section id="tab-perfil" class="tab-content">
          <section class="card">
            <h2 class="card-title">Perfil y objetivos</h2>
            <p class="section-subtitle">
              Ajusta tus datos y mira tu resumen de peso del mes.
            </p>

            <div class="profile-grid" style="margin-top: 8px">
              <div class="field-group">
                <label for="profileName">Nombre</label>
                <input type="text" id="profileName" placeholder="Nombre" />
              </div>
              <div class="field-group">
                <label for="profileAge">Edad</label>
                <input type="number" id="profileAge" min="0" />
              </div>
              <div class="field-group">
                <label for="profileHeight">Estatura (cm)</label>
                <input type="number" id="profileHeight" min="0" />
              </div>
              <div class="field-group">
                <label for="profileStartWeight">Peso inicial (kg)</label>
                <input type="number" id="profileStartWeight" step="0.1" />
              </div>
              <div class="field-group">
                <label for="profileGoalCalories">Calor√≠as objetivo/d√≠a</label>
                <input
                  type="number"
                  id="profileGoalCalories"
                  step="50"
                  min="1200"
                />
              </div>
              <div class="field-group">
                <label for="profileWaterTarget">Meta de agua (L/d√≠a)</label>
                <input
                  type="number"
                  id="profileWaterTarget"
                  step="0.1"
                  min="1"
                />
              </div>
              <div class="field-group">
                <label for="profileFinalWeight">Peso final del mes (kg)</label>
                <input type="number" id="profileFinalWeight" step="0.1" />
              </div>
            </div>

            <p id="monthStatusText"></p>
            <p id="weightDiffText"></p>
          </section>
        </section>
      </main>
    </div>

    <!-- BOTTOM TABS -->
    <section class="bottom-tabs">
      <div class="bottom-tabs-inner">
        <button class="tab-button active" data-tab="tab-dia">
          <span class="tab-icon">üè†</span>
          D√≠a
        </button>
        <button class="tab-button" data-tab="tab-progreso">
          <span class="tab-icon">üìä</span>
          Progreso
        </button>
        <button class="tab-button" data-tab="tab-menus">
          <span class="tab-icon">üçΩÔ∏è</span>
          Men√∫s
        </button>
        <button class="tab-button" data-tab="tab-perfil">
          <span class="tab-icon">üë§</span>
          Perfil
        </button>
      </div>
    </section>
  </body>
</html>
